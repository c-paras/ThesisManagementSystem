
<div class="row">
  <div id="view_text_section">
    <div class="col s12">
      {% if text_info["old_text"]|length %}
        <h6>Your last submission ({{ text_info["edited_time"] }}):</h6>
        <div class="col s10 offset-s2">
          {{ text_info["old_text"] }}
        </div>
      {% else %}
        You haven't submitted anything yet.
      {% endif %}
    </div>
    <div class="col s12 right-align">
      <a class="waves-effect waves-light btn" onclick="openTextEditor();">{{ text_info["button_text"] }}</a>
    </div>
  </div>
  <div id="edit_text_section">
    <div class="col s12">
      <form id="text-upload-form" action="/submit_text_task" method="post" enctype="multipart/form-data">
        <div class="input-field">
          {% if text_info["old_text"]|length %}
            <textarea name="text-submission" id="textarea1" class="materialize-textarea" onkeyup="updateWordCount(this)">{{ text_info["old_text"] }}</textarea>
          {% else %}
            <textarea name="text-submission" id="textarea1" class="materialize-textarea" onkeyup="updateWordCount(this)"></textarea>
          {% endif %}
          <label for="textarea1">Submission</label>
          <div class="right-align text-grey text-lighten-3">
            <span id='word-counter'>test</span>/{{ text_info['limit'] }}
          </div>
        </div>
        &nbsp;
        <div class="input-field">
          <div>
            <label>
              <input name="certify" id="all-own-work" value="false" type="checkbox" />
              <span>I certify this is all my own work, except where expressly indicated and correctly attributed</span>
            </label>
          </div>
        </div>
        <div class="input-field row">
          <a onclick="closeTextEditor()" class="waves-effect waves-light btn red">Cancel</a>
          <a onclick="uploadText(this)" class="waves-effect waves-light btn">Confirm</a>
        </div>
        <input type="hidden" name="task" value="{{ task_id }}">
        <input type="hidden" id="word_limit" value="{{ text_info['limit'] }}">
      </form>
    </div>
  </div>
</div>