{% extends "base.html" %}

{% block body %}
  <div class="row">
    <form class="col s8 offset-m2" id="search-form">
      <div class="row">
        <div class="input-field s8">
          <i class="material-icons prefix">search</i>
          <input id="search-input" name="search" type="text" placeholder="Search">
        </div>
      </div>
      <div class="row">
        <div class="input-field s8">
          <i class="material-icons prefix">library_books</i>
          <div class="chips chips-autocomplete chips-placeholder" id="topics"></div>
        </div>
      </div>
      <div class="row">
        <div class="input-field s8">
          <i class="material-icons prefix">person</i>
          <div class="chips chips-autocomplete chips-placeholder" id="supervisor"></div>
        </div>
      </div>
      <div class="row">
        <div class="input-field s8">
          <p>
            <label>
              <input type="checkbox" class="filled-in" checked="checked" name="checkbox-vis"/>
              <span>Hide topics that are no longer on offer</span>
            </label>
          </p>
        </div>
      </div>
      <div class="center">
        <a class="waves-effect waves-light btn" id="search-btn" onclick="searchResults()">Search
          <i class="material-icons right">send</i>
        </a>
      </div>
    </form>
  </div>

  <!-- Search results -->
  <div class="row" id="results">
    <h5 class="col s10 offset-m1" id="search-title"></h5>
    <div id="search-results">
    </div>
  </div>

  <!-- Request modal -->
  <div id="request-modal" class="modal">
    <div class="modal-content">

      <!-- Modal heading -->
      <div class="row">
        <div class="col s12">
          <h4 class="teal-text center">Request Topic</h4>
        </div>
      </div>

      <!-- Modal body -->
      <div class="row">
        <form class="col s12 modal-form" id="request-form" name="request-form">
          <div class="input-field">
            <i class="material-icons prefix">mode_edit</i>
            <textarea
              id="message" name="message" class="materialize-textarea validate"
              required="" aria-required="true"
            ></textarea>
            <label for="message">Message</label>
            <span class="helper-text" data-error="A message is required"></span>
          </div>
          <input type="hidden" name="topic" id="topic" value="">
        </form>
      </div>

      <!-- Cancel and confirm buttons -->
      <div class="row">
        <div class="center">
          <a href="#!" id="btn-cancel" class="modal-action modal-close waves-effect waves-red red btn">
            Cancel
          </a>
          <a
            href="#!" id="btn-request" onclick="submitRequest()"
            class="modal-action waves-effect waves-teal teal btn"
          >
            Request
          </a>
        </div>
      </div>

    </div>
  </div>

  <script type="text/javascript" src="{{ url_for('static', filename='js/request.js') }}" defer></script>

{% endblock %}
